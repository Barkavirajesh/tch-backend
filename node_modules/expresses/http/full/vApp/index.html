<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index Page</title>
    <script src="/angular-1.8.2/angular.js"></script>
    <script src="/module.js"></script>
</head>
<body ng-app="myApp">
    <center>
        <section ng-controller="myCtrl">
            <div ng-if="!isLoggedIn">
                <h3>Login Form</h3>
                <form>
                    <input type="text" ng-model="login.name" placeholder="Username"/>
                    <input type="password" ng-model="login.password" placeholder="Password"/>
                    <input type="submit" value="Login" ng-click="loginuser()">
                </form>
            </div>
            <div ng-if="!isLoggedIn">
                <h3>Welcome, {{user.name}}!</h3>
                <button ng-click="logout()">Logout</button>

                <!-- add User Form -->
                <br>
                <br>
                <h3>register new user</h3>
                <form>
                    <input type="text" ng-model="newUser.name" placeholder="name"><br>
                    <input type="email" ng-model="newUser.email" placeholder="email"> <br>
                    <input type="password" ng-model="newUser.password" placeholder="password"><br>
                    <input type="number" ng-model="newUser.age" placeholder="age" min="0" max="100"> <br>
                    <input type="number" ng-model="newUser.marks" placeholder="marks" min="0" max="100"><br>
                    <input type="radio" name="gender" ng-model="newUser.gender" value="male"> Male
                    <input type="radio" name="gender" ng-model="newUser.gender" value="female"> Female <br>
                    
                    <div ng-if="isUpdate">
                        <input type="submit" value="Update" ng-click="updateUser()">
                    </div>
                    <div ng-if="!isUpdate">
                        <input type="submit" value="Register" ng-click="registerUser()">
                    </div>
                </form>

                <br><br>

                <table border="1" cellpadding="10" cellspacing="0">
                    <thead>
                        <th>name</th>
                        <th>email</th>
                        <th>age</th>
                        <th>marks</th>
                        <th>gender</th>
                        <th colspan="4">actions</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="adam in users">
                            <td>{{adam.name}}</td>
                            <td>{{adam.email}}</td>
                            <td>{{adam.age}}</td>
                            <td>{{adam.marks}}</td>
                            <td>{{adam.gender}}</td>
                            <td>
                                <input type="submit" value="edit" ng-click="isEdit(adam)">
                            </td>
                            <td>
                                <input type="submit" value="delete" ng-click="deleteuser(adam._id)">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
{{message}}

        </section>
    </center>  
</body>
</html>